---
title: "Creating episodes"
author: "Göran Broström"
date: "`r Sys.Date()`"
output: 
   rmarkdown::html_vignette:
      toc: true
      depth: 3
      number_sections: true
vignette: >
  %\VignetteIndexEntry{Creating episodes}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---


## Introduction

This is the **R** version of creating an *episodes* data frame from a 
*chronicle* and a *personal* frame. The *chronicle* is set up 
similarly to the Stata version (Quaranta 2015).

We have a slightly different approach here in that the *chronicle* is supposed 
to contain records of *events*. These events define in turn *changes in levels*
of *variables*, that must be defined.

This approach also forces us to strip off time-fixed covariates, 
such as *sex*, *birth place*, *birth order*, etc, from the *chronicle*. These 
variables are characterized by the absence of a time-stamp. They are stored in 
the *personal* frame. 

The code writing is exemplified with data from Quaranta (2015).

## The *chronicle* file

```{r get chronichle}
##load("../data/chronicle.rda")
head(chronicle)
with(chronicle, table(Type, Value))
```

